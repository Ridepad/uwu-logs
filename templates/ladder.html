{% extends "layout.html" %}
{% block head_meta %}
<meta name="title" content="UwU Logs - Ladder Live">
<meta name="description" content="Live Ladder Updates for UwU Logs.">
<link rel="shortcut icon" href="/favicon.ico">
{% endblock head_meta %}
{% block scripts_head %}
<script type="module" src="/static/ladder.js?240325-2" async></script>
{% endblock scripts_head %}
{% block add_style %}
<style>
.hidden {
  display: none;
}
td {
  padding-inline: .25em;
}
img {
  min-height: 1em;
  max-height: 1em;
  min-width: 1em;
  max-width: 1em;
  vertical-align: text-bottom;
  padding-inline: .15em;
}

#main-table .wipe td {
  background-color: hsl(357, 100%, 13%);
}
#main-table .kill td {
  background-color: hsl(107, 100%, 10%);
}
#main-table .unknown td {
  background-color: hsl(53, 100%, 12%);
}

.cell-id {
  display: none;
}
td.cell-id {
  min-width: 6em;
}

.cell-server {
  min-width: 1.5em;
  text-align: center;
}
.cell-time {
  min-width: 3em;
  text-align: right;
}
.cell-attempts {
  min-width: 1.25em;
  text-align: right;
}
.cell-boss {
  text-align: center;
  min-width: 13.5em;
}
.cell-size {
  text-align: right;
  min-width: 2em;
}
.cell-mode {
  min-width: 3.5em;
}
.cell-guild {
  min-width: 15em;
}

#controls,
#main-table-wrap {
  font-size: 150%;
}

#players-table-wrap {
  margin-bottom: 1rem;
  position: fixed;
  bottom: var(--bottom-row-one);
  right: 0;
}
#players-table-label {
  text-align: right;
}
.cell-name {
  min-width: 9em;
}
@media (orientation: portrait) {
  #players-table-wrap {
    bottom: calc(var(--bottom-row-one) * 3);
  }
  footer {
    height: calc(var(--bottom-row-one) * 3);
  }
}
.status-disconnected {
  color: red;
}
.status-connected {
  color: greenyellow;
}
</style>
{% endblock add_style %}

{% block the_main %}
<main>
  <section id="main-table-wrap" style="display: none;">
    <table id="main-table">
      <thead>
        <tr>
          <th class="cell-id">ID</th>
          <th></th>
          <th>Time</th>
          <th>Pull</th>
          <th>Fight name</th>
          <th colspan="2">Difficulty</th>
          <th>Guild (majority)</th>
        </tr>
      </thead>
      <tbody id="main-table-body"></tbody>
      <tfoot id="main-table-foot" style="display: none;"></tfoot>
    </table>
  </section>
  <section id="players-table-wrap">
    <table id="players-table-table">
      <tbody></tbody>
      <tfoot>
        <tr>
          <td>PLAYER</td>
          <td>GUILD</td>
        </tr>
        <tr>
          <td id="players-table-label">Started</td>
          <td id="players-table-time"></td>
        </tr>
      </tfoot>
    </table>
  </section>
</main>
{% endblock the_main %}
{% block main_foot %}
<footer>
  <section id="controls">
    <select id="select-server">
      <option value="all">Any server</option>
      <option value="lordaeron">Lordaeron</option>
      <option value="icecrown">Icecrown</option>
    </select>
    <select id="select-size">
      <option value="all">Any size</option>
      <option value="10">10</option>
      <option value="25">25</option>
    </select>
    <select id="select-mode">
      <option value="all">Any mode</option>
      <option value="Heroic">Heroic</option>
      <option value="Normal">Normal</option>
    </select>
    <select id="select-faction">
      <option value="all">Any faction</option>
      <option value="alliance">Alliance</option>
      <option value="horde">Horde</option>
    </select>
    <select id="select-timeout">
      <option value="30">Auto hide</option>
      <option value="0">0</option>
      <option value="2">2</option>
      <option value="5">5</option>
      <option value="10">10</option>
      <option value="15">15</option>
      <option value="30">30</option>
      <option value="60">60</option>
      <option value="120">120</option>
      <option value="300">300</option>
    </select>
    <input type="checkbox" id="show-players" checked>
    <label for="show-players">Show players</label>
    <input type="checkbox" id="show-live" checked>
    <label for="show-live">Show live</label>
    <input type="checkbox" id="show-done">
    <label for="show-done">Show done</label>
    <span id="span-status" class="status-disconnected">Disconnected</span>
  </section>
</footer>
{% endblock main_foot %}